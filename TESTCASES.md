# Тест-кейсы для микросервиса объявлений 

## Тест-кейс ID.00
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.00** |
| **Модуль**              | Настройка окружения |
| **Название проверки**   | Настройка Postman и импорт коллекции |
| **Приоритет**           | Высокий |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Установлен Postman, есть файл `postman_collection.json` |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Открыть приложение Postman                                     | Postman успешно запускается |
| 2 |   Нажать кнопку "Import" в левом верхнем углу                    | Открывается окно импорта |
| 3 |   Выбрать вкладку "Upload Files"                                 | Появляется возможность загрузить файл |
| 4 |   Нажать "Select Files" и выбрать файл `postman_collection.json` | Файл выбирается для импорта |
| 5 |   Нажать кнопку "Import"                                         | Коллекция успешно импортируется |
| 6 |   Проверить левую панель коллекций                               | Появляется коллекция "qa-internship Copy 2" |
| 7 |   Развернуть коллекцию "qa-internship"                           | Видны папки "api/1" и "api/2" с запросами |
| 8 |   Нажать на название коллекции и выбрать поле "Variables"        | Открываются переменные коллекции |
| 9 |   Проверить наличие переменной `baseUrl`                         | Переменная `baseUrl` существует со значением `https://qa-internship.avito.com` |




## Тест-кейс ID.01
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.01** |
| **Модуль**              | API v1 - Создание объявлений |
| **Название проверки**   | Создание объявления с валидными данными |
| **Приоритет**           | Высокий |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Коллекция импортирована, Пример импорта: тест-кейс ID.00 |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Выбрать запрос "Сохранить объявление" (POST /api/1/item)       | Запрос открывается в рабочей области |
| 2 |   Перейти во вкладку "Body"                                      | Тело запроса доступно для редактирования |
| 3 |   Убедиться что выбран "raw" и "JSON"                            | Формат установлен корректно |
| 4 |   Ввести валидные данные JSON:                                   | Данные принимаются |
| 5 |   Нажать кнопку "Send"                                           | Запрос отправляется на сервер. Ответ: Status Code: 200, Тело ответа: Содержит поле id (не пустое), Поля ответа: sellerId, name, price, statistics, createdAt присутствуют, Соответствие данных: Значения полей соответствуют отправленным данным | 

## Тестовые данные: 
        {
            "sellerID": "123456",
            "name": "Тестовый товар",
            "price": 1500,
            "statistics": {
            "likes": 10,
            "viewCount": 100,
            "contacts": 5
            }
        }


## Тест-кейс ID.02
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.02** |
| **Модуль**              | API v1 - Статистика |
| **Название проверки**   | Получение статистики существующего объявления |
| **Приоритет**           | Высокий |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Тест-кейс ID.01 выполнен |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Запомнить значение id из ответа тест-кейса ID.01                                      | ID сохранен для использования |
| 2 |   Выбрать запрос "Получить статистику по объявлению" (GET /api/1/statistic/:id)         | Запрос открывается |
| 3 |   Перейти во вкладку "Params"                                                           | Параметры запроса доступны |
| 4 |   В поле "id" ввести сохраненный ID                                                     | Параметр устанавливается |
| 5 |   Нажать кнопку "Send"                                                                  | Запрос отправляется на сервер. Ответ: Status Code: 200, Формат ответа: JSON массив, Поля статистики: likes, viewCount, contacts присутствуют, Значения: Соответствуют данным из Тест-кейс ID.01 |
                                                                                                






## Тест-кейс ID.03
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.03** |
| **Модуль**              | API v1 - Получение объявлений |
| **Название проверки**   | Получение данных объявления по идентификатору |
| **Приоритет**           | Высокий |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Тест-кейс ID.01 выполнен |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Запомнить значение id из ответа тест-кейса ID.01                                      | ID сохранен для использования |
| 2 |   Выбрать запрос "Получить объявление по идентификатору" (GET /api/1/item/:id)          | Запрос открывается |
| 3 |   Перейти во вкладку "Params"                                                           | Параметры запроса доступны |
| 4 |   В поле "id" ввести сохраненный ID                                                     | Параметр устанавливается |
| 5 |   Нажать кнопку "Send"                                                                  | Запрос отправляется на сервер Ответ: Status Code: 200, Формат ответа: JSON массив, Поля ответа: id, sellerId, name, price, statistics, createdAt присутствуют, Значения: Соответствуют данным из Тест-кейс ID.01 |
                                                        



## Тест-кейс ID.04
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.04** |
| **Модуль**              | API v1 - Получение объявлений |
| **Название проверки**   | Получение списка объявлений по sellerID |
| **Приоритет**           | Высокий |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Созданы объявления с одинаковым sellerID |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Взять sellerID из созданного объявления ('123456')                                    | sellerID готов к использованию |
| 2 |   Выбрать запрос "Получить все объявления пользователя" (GET /api/1/:sellerID/item)     | Запрос открывается |
| 3 |   Перейти во вкладку "Params"                                                           | Параметры запроса доступны |
| 4 |   В поле "sellerID" ввести значение '123456'                                            | Параметр устанавливается |
| 5 |   Нажать кнопку "Send"                                                                  | Запрос отправляется на сервер Ответ: Status Code: 200, Формат ответа: JSON массив, Принадлежность: Все объявления в массиве имеют sellerId: '123456', Полнота данных: Каждое объявление содержит полный набор полей |




## Тест-кейс ID.05
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.05** |
| **Модуль**              | API v1 - Валидация данных |
| **Название проверки**   | Обработка невалидных данных при создании |
| **Приоритет**           | Средний |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Коллекция импортирована, Пример импорта: тест-кейс ID.00 |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Выбрать запрос "Сохранить объявление" (POST /api/1/item)       | Запрос открывается в рабочей области |
| 2 |   Перейти во вкладку "Body"                                      | Тело запроса доступно для редактирования |
| 3 |   Убедиться что выбран "raw" и "JSON"                            | Формат установлен корректно |
| 4 |   Ввести невалидные данные JSON:                                 | Данные принимаются |
| 5 |   Нажать кнопку "Send"                                           | Запрос отправляется на сервер. Ответ: Status Code: 400, "status": "не передан объект - объявление", Создание объявления: Объявление не создается |

## Тестовые данные:
        {
            "sellerID": "123456",
            "name": "Тестовый товар",
            "price": 1500dd,
            "statistics": {
            "likes": 10,
            "viewCount": 100,
            "contacts": 5
            }
        }



## Тест-кейс ID.06
| Поле | Значение |
|------|----------|
| **ID**                  | **ID.06** |
| **Модуль**              | API v1 - Обработка ошибок |
| **Название проверки**   | Получение статистики несуществующего объявления |
| **Приоритет**           | Низкий |
| **Среда тестирования**  | Windows 10/11, Postman v10+ |
| **Предусловия**         | Нет |

### Шаги теста:

| Шаг | Действие | Ожидаемый результат |
|-----|----------|---------------------|
| 1 |   Выбрать запрос "Получить статистику по объявлению" (GET /api/1/statistic/:id)         | Запрос открывается |
| 2 |   Перейти во вкладку "Params"                                                           | Параметры запроса доступны |
| 3 |   В поле "id" ввести заведомо несуществующий ID                                         | Параметр устанавливается |
| 4 |   Нажать кнопку "Send"                                                                  | Запрос отправляется на сервер. Ответ: Status Code: 404 Not Found, Формат ответа: JSON массив, Сообщение: Указание что статистика не найдена, Тело ответа: Сообщение об ошибке |